# 手机软件何时统一——桥接模式

==继承==有时候会让你看起来像——==有了新锤子，看所有东西都变成了钉子==

**继承的麻烦**

> 对象的继承关系是在==编译时就编译好了==，所以==无法在运行时改变==从父类继承的实现。子类的实现与它的父类有非常紧密的==依赖关系==，以至于==父类实现中的任何变化必然会导致子类发生变化==。当你需要复用子类时，如果继承下来的实现不适合解决新的问题，==则父类必须重写或被其他更适合的类替换==。这种依赖关系限制了灵活性并最终==限制了复用性==

**合成/聚合复用原则**

> 定义：尽量使用合成/聚合，尽量不要使用类继承

聚合 -> **弱**的‘拥有’关系，体现的是**A对象可以包含B对象**，但**B对象不是A对象的**一部分

合成-> **强**的‘拥有’关系，体现了严格的部分和整体的关系**，部分和整体的生命周期一样**

![合成聚合复用原则](C:\Typora\设计模式picture\第二十二章\合成聚合复用原则.png)

好处：优先使用对象的合成/聚合将有助于你保持**每个类被封装**，并被**集中在单个任务**上。这样类和类继承层次会**保持较小规模**，并且不太可能增长为不可控制的庞然大物

**桥接模式**

> 定义：将抽象部分与它的实现部分分离，使它们都可以独立地变化

==不是让抽象类与其派生类分离，因为这没有任何意义。我们是让抽象类和它地派生类用来实现自己的对象==

![桥接使用情形1](C:\Typora\设计模式picture\第二十二章\桥接使用情形1.png)

![桥接使用情形2](C:\Typora\设计模式picture\第二十二章\桥接使用情形2.png)

遇到上方两张图的情况时，对哪个先拆分都可以到达相同的效果时候，就可以使用==桥接模式==

![桥接模式结构图](C:\Typora\设计模式picture\第二十二章\桥接模式结构图.png)

实现系统可能有多角度分类，每一种分类都有可能变化，那么就把这种多角度分离出来让它们独立变化