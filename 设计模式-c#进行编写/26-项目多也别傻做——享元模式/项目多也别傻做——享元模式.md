# 项目多也别傻做——享元模式

> 定义：运用共享技术有效地支持大量细粒度的对象

![中介者模式](C:\Typora\设计模式picture\第二十六章\享元模式结构图.png)

**内部状态与外部状态**

- 内部状态：不会随环境改变而改变的共享部分
- 外部状态：随环境改变而改变、不可以共享的状态

在程序设计中，有时需要生成大量细粒度的类实例来表示数据。如果能发现这些实例**除了几个参数外基本上都是相同**的，有时就能够大幅度的减少需要实例化的类的数量。如果能把那些参数移到类实例的外面，在方法调用时将它们传递进来，就可以通过共享大幅度地减少单个实例的数目

==什么时候使用享元模式==

如果一个应用程序使用了**大量的对象**，而大量的这些对象造成了很大的存储开销时就应该考虑使用；还有就是对象的大多数状态可以外部状态，如果删除对象的外部状态，那么可以用相对较少的共享对象取代很多组对象，此时可以考虑使用享元模式